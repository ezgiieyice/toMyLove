<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>30 GÃ¼nlÃ¼k Sevgi + AnÄ±lar</title>
  <style>
    :root{
      --bg1:#0b1020; --bg2:#111a33;
      --card: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.65);
      --shadow: 0 18px 60px rgba(0,0,0,.35);
      --r: 18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background: radial-gradient(900px 500px at 20% 10%, rgba(255,120,200,.18), transparent 60%),
                  radial-gradient(800px 500px at 80% 20%, rgba(120,180,255,.18), transparent 55%),
                  linear-gradient(180deg, var(--bg1), var(--bg2));
      display:flex; align-items:center; justify-content:center;
      padding:24px;
    }
    .wrap{width:min(980px, 100%); display:grid; gap:16px}
    .top{display:flex; gap:14px; align-items:stretch; flex-wrap:wrap;}
    .card{
      background:var(--card);
      border:1px solid var(--stroke);
      border-radius:var(--r);
      box-shadow:var(--shadow);
      backdrop-filter: blur(10px);
    }
    .hero{flex: 1 1 460px; padding:18px 18px 14px}
    .side{flex: 0 0 320px; padding:18px}
    h1{margin:0 0 6px; font-size:22px; letter-spacing:.2px}
    .sub{color:var(--muted); font-size:14px; line-height:1.45}
    .row{display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-top:12px}
    input{
      flex:1 1 220px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.18);
      color:var(--text);
      border-radius:12px;
      padding:11px 12px;
      outline:none;
    }
    button{
      border:1px solid rgba(255,255,255,.22);
      background: rgba(255,255,255,.10);
      color:var(--text);
      padding:11px 12px;
      border-radius:12px;
      cursor:pointer;
    }
    button:hover{background: rgba(255,255,255,.14)}
    .pill{
      display:inline-flex; gap:8px; align-items:center;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      padding:8px 10px; border-radius:999px;
      font-size:12px; color:var(--muted);
    }
    .progress{
      height:10px; border-radius:999px;
      background: rgba(255,255,255,.08);
      overflow:hidden;
      border:1px solid rgba(255,255,255,.14);
      margin-top:12px;
    }
    .bar{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(255,140,210,.9), rgba(120,190,255,.9));
    }

    .main{display:grid; grid-template-columns: 1.3fr .7fr; gap:16px}
    @media (max-width: 860px){ .main{grid-template-columns:1fr} .side{flex:1 1 320px}}

    .message{padding:18px}
    .dayTitle{display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap}
    .big{font-size:18px; margin:0}
    .tag{font-size:12px; color:var(--muted)}
    .text{
      margin:12px 0 0;
      font-size:16px;
      line-height:1.65;
      white-space:pre-wrap;
    }

    .days{padding:18px}
    .grid{
      display:grid; grid-template-columns: repeat(5, minmax(0,1fr));
      gap:10px;
    }
    @media (max-width: 560px){ .grid{grid-template-columns: repeat(4, minmax(0,1fr));} }

    .d{
      padding:10px 10px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: var(--text);
      display:flex; justify-content:center; align-items:center;
      cursor:pointer;
      user-select:none;
      min-height:40px;
      position:relative;
    }
    .d.locked{opacity:.45; cursor:not-allowed}
    .d.active{
      border-color: rgba(255,255,255,.35);
      background: rgba(255,255,255,.12);
    }
    .d.hasPhoto::after{
      content:"ğŸ“·";
      position:absolute;
      right:8px; top:8px;
      font-size:12px;
      opacity:.85;
    }

    /* Ã‡iÃ§ek bÃ¼yÃ¼mesi */
    .flowerBox{display:flex; flex-direction:column; gap:10px}
    .flower{
      height:220px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.14);
      background: radial-gradient(160px 120px at 30% 30%, rgba(255,120,200,.25), transparent 60%),
                  radial-gradient(160px 120px at 70% 35%, rgba(120,180,255,.25), transparent 60%),
                  rgba(255,255,255,.05);
      position:relative;
      overflow:hidden;
    }
    .stem{
      position:absolute; left:50%; bottom:0;
      width:8px; height:150px;
      transform: translateX(-50%) scaleY(var(--grow));
      transform-origin: bottom;
      border-radius:999px;
      background: linear-gradient(180deg, rgba(140,255,190,.9), rgba(40,170,120,.9));
      filter: drop-shadow(0 12px 20px rgba(0,0,0,.25));
    }
    .petal{
      position:absolute; left:50%; bottom:140px;
      width:110px; height:110px;
      transform: translateX(-50%) scale(var(--bloom)) rotate(0deg);
      transform-origin:center;
      border-radius: 40% 60% 55% 45% / 45% 40% 60% 55%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.8), rgba(255,120,200,.85) 35%, rgba(120,180,255,.75) 75%);
      opacity:.95;
      animation: float 4s ease-in-out infinite;
    }
    .center{
      position:absolute; left:50%; bottom:175px;
      width:34px; height:34px;
      transform: translateX(-50%) scale(var(--bloom));
      border-radius:999px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.9), rgba(255,220,120,.9));
    }
    @keyframes float{
      0%,100%{ transform: translateX(-50%) scale(var(--bloom)) translateY(0)}
      50%{ transform: translateX(-50%) scale(var(--bloom)) translateY(-6px)}
    }

    .hint{color:var(--muted); font-size:12px; line-height:1.45}
    .footer{color:var(--muted); font-size:12px; padding:0 4px}

    /* Modal (foto + not) */
    .modalBack{
      position:fixed; inset:0;
      background: rgba(0,0,0,.55);
      display:none;
      align-items:center; justify-content:center;
      padding:18px;
      z-index: 9999;
    }
    .modal{
      width:min(820px, 100%);
      background: rgba(20,28,55,.92);
      border:1px solid rgba(255,255,255,.16);
      border-radius: 18px;
      box-shadow: 0 24px 80px rgba(0,0,0,.45);
      overflow:hidden;
    }
    .modalHead{
      display:flex; justify-content:space-between; align-items:center;
      padding:12px 14px;
      border-bottom: 1px solid rgba(255,255,255,.12);
    }
    .modalTitle{font-size:14px; color: var(--text)}
    .closeBtn{
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.08);
      color: var(--text);
      border-radius: 12px;
      padding:8px 10px;
      cursor:pointer;
    }
    .modalBody{padding:14px; display:grid; gap:12px}
    .modalNote{color: rgba(255,255,255,.85); line-height:1.55; white-space:pre-wrap}
    .modalImg{
      width:100%;
      max-height: 420px;
      object-fit: cover;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      display:none;
    }
    /* DÄ±ÅŸ kenarlara polaroid (sayfanÄ±n boÅŸ arka planÄ±na) */
    .edgePolaroids{
      position: fixed;
      top: 50%;
      transform: translateY(-50%);
      display: grid;
      gap: 14px;
      z-index: 1;              /* iÃ§erikten altta kalsÄ±n */
      pointer-events: none;    /* tÄ±klamalarÄ± engellemesin */
      opacity: .95;
    }

    .edgePolaroids.left{ left: 18px; }
    .edgePolaroids.right{ right: 18px; }

    .edgePolaroid{
      width: 170px;
      background: rgba(255,255,255,.92);
      border-radius: 14px;
      padding: 10px 10px 14px;
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      transform: rotate(var(--rot, -2deg));
    }

    .edgePolaroid img{
      width: 100%;
      height: 145px;
      object-fit: cover;
      border-radius: 10px;
      display: block;
    }

    .edgePolaroid .cap{
      margin-top: 10px;
      color: rgba(10,10,10,.75);
      font-size: 12px;
      font-weight: 700;
      line-height: 1.2;
    }

    /* Ä°Ã§erik Ã¼stte kalsÄ±n */
    .wrap{ position: relative; z-index: 5; }

    /* Laptop ekranlarÄ±nda taÅŸmasÄ±n diye kapat */
    @media (max-width: 1200px){
      .edgePolaroids{ display:none; }
    }

  </style>
</head>

<body>
<!-- Sol kenar (3 polaroid) -->
  <div class="edgePolaroids left">
    <div class="edgePolaroid" style="--rot:-4deg">
      <img src="photos/left1.jpg" alt="anÄ±">
      <div class="cap">Ä°lk buluÅŸma</div>
    </div>
    <div class="edgePolaroid" style="--rot:2deg">
      <img src="photos/left2.jpg" alt="anÄ±">
      <div class="cap">Weihnachtsmarkt</div>
    </div>
    <div class="edgePolaroid" style="--rot:-1deg">
      <img src="photos/left3.jpg" alt="anÄ±">
      <div class="cap">KÃ¼tÃ¼phane date</div>
    </div>
  </div>

  <!-- SaÄŸ kenar (3 polaroid) -->
  <div class="edgePolaroids right">
    <div class="edgePolaroid" style="--rot:3deg">
      <img src="photos/right1.jpg" alt="anÄ±">
      <div class="cap">Ã‡iÃ§ek gÃ¼nÃ¼ ğŸŒ¸</div>
    </div>
    <div class="edgePolaroid" style="--rot:-3deg">
      <img src="photos/right2.jpg" alt="anÄ±">
      <div class="cap">Ä°lk sinema ğŸ¬</div>
    </div>
    <div class="edgePolaroid" style="--rot:1deg">
      <img src="photos/right3.jpg" alt="anÄ±">
      <div class="cap">Noel zamanÄ± ğŸ„</div>
    </div>
  </div>

  <div class="wrap">
    <div class="top">
      <div class="card hero">
        <h1>30 GÃ¼nlÃ¼k Sevgi</h1>
        <div class="sub">
          Bir ay boyunca her gÃ¼n kÃ¼Ã§Ã¼k bir ÅŸeyâ€¦ romantik, tatlÄ± ve biraz da cool.
        </div>

        <div class="row" id="gate">
          <input id="nameInput" placeholder="Ä°smini yaz (minik bir kontrol ğŸ˜Œ)" autocomplete="off" />
          <button id="enterBtn">BaÅŸlat</button>
          <span class="pill" id="gateMsg">â€œSen olmasaydÄ±n Ã§alÄ±ÅŸmazdÄ±.â€</span>
        </div>

        <div class="progress" aria-label="progress">
          <div class="bar" id="bar"></div>
        </div>

        <div class="row" style="margin-top:10px">
          <span class="pill" id="dayPill">GÃ¼n: â€”</span>
          <span class="pill" id="datePill">BaÅŸlangÄ±Ã§: â€”</span>
          <span class="pill" id="leftPill">Kalan: â€”</span>
        </div>
      </div>

      <div class="card side">
        <div class="flowerBox">
          <div class="flower">
            <div class="stem" id="stem"></div>
            <div class="petal" id="petal"></div>
            <div class="center" id="center"></div>
          </div>
          <div class="hint">
            Ä°pucu: Her gÃ¼n girince Ã§iÃ§ek biraz daha aÃ§Ä±yor. ğŸŒ™
          </div>
        </div>
      </div>
    </div>

    <!-- GÃœNLÃœK MESAJLAR + GÃœNLER -->
    <div class="main">
      <div class="card message">
        <div class="dayTitle">
          <p class="big" id="msgTitle">BaÅŸlamak iÃ§in ismini yaz.</p>
          <span class="tag" id="msgTag"></span>
        </div>
        <div class="text" id="msgText">BugÃ¼nlÃ¼k mesajÄ± birlikte aÃ§alÄ±m ğŸ™‚</div>
      </div>

      <div class="card days">
        <div class="sub" style="margin-bottom:10px">GÃ¼nler</div>
        <div class="grid" id="grid"></div>
        <div class="footer" style="margin-top:12px">
          Not: Gelecek gÃ¼nler kilitli. ZamanÄ± gelince aÃ§Ä±lÄ±r ğŸ˜Œ
        </div>
      </div>
    </div>

    <!-- ANILAR + BÄ°RLÄ°KTE GÃœNLER -->
    <div class="main" style="margin-top:16px">
      <div class="card message">
        <div class="dayTitle">
          <p class="big">AnÄ±lar</p>
          <span class="tag">12 KasÄ±m â†’ 29 AralÄ±k</span>
        </div>
        <div class="text" id="timelineText"></div>
      </div>

      <div class="card days">
        <div class="sub" style="margin-bottom:10px">Birlikte olduÄŸumuz gÃ¼nler (25 KasÄ±m â€“ 29 AralÄ±k)</div>
        <div class="grid" id="togetherGrid"></div>
        <div class="footer" style="margin-top:12px">
          ğŸ’— = Ã¶zel gÃ¼n (ilk buluÅŸma + sevgili olma). ğŸ‘­ = diÄŸer birlikte olduÄŸunuz gÃ¼nler. ğŸ“· = foto var. TÄ±kla: not + foto aÃ§Ä±lÄ±r.
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modalBack" id="modalBack" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="modalHead">
        <div class="modalTitle" id="modalTitle">â€”</div>
        <button class="closeBtn" id="closeBtn">Kapat</button>
      </div>
      <div class="modalBody">
        <img class="modalImg" id="modalImg" alt="AnÄ± fotoÄŸrafÄ±" />
        <div class="modalNote" id="modalNote"></div>
      </div>
    </div>
  </div>

<script>
  // âœ… SADECE BU KISIMLARI DÃœZENLE

  const HER_NAME = "ONUN_ADI";      // Ã¶r: "MELÄ°SA" veya lakap
  const START_DATE = "2025-11-29";  // 30 gÃ¼nlÃ¼k mesajlarÄ±n baÅŸlayacaÄŸÄ± gÃ¼n (istersen deÄŸiÅŸir)

  // 30 gÃ¼nlÃ¼k mesajlar
  const M = [
    "GÃ¼n 1:\nBugÃ¼n bu sayfayÄ± aÃ§tÄ±ysanâ€¦ sistem Ã§alÄ±ÅŸÄ±yor demektir.\nÃ‡Ã¼nkÃ¼ sen varsÄ±n.",
    "GÃ¼n 2:\nKÃ¼Ã§Ã¼k bir not: GÃ¼lÃ¼ÅŸÃ¼n benim en sevdiÄŸim bildirim sesi.",
    "GÃ¼n 3:\nCool davranmaya Ã§alÄ±ÅŸÄ±yorum ama olmadÄ±:\nSeni Ã¶zledim.",
    "GÃ¼n 4:\nBugÃ¼n sadece ÅŸunu bil:\nYanÄ±nda sakinleÅŸiyorum.",
    "GÃ¼n 5:\nSeninle konuÅŸunca zaman hÄ±zlanÄ±yor.\nSensizseâ€¦ update gelmiyor.",
    "GÃ¼n 6:\nBir ÅŸey itiraf edeyim:\nBen senin yanÄ±nda daha iyi biriyim.",
    "GÃ¼n 7:\nMini gÃ¶rev: BugÃ¼n kendine nazik ol.\nBen de uzaktan alkÄ±ÅŸlÄ±yorum.",
    "GÃ¼n 8:\nSen = gÃ¼ven.\nBu kadar net.",
    "GÃ¼n 9:\nBugÃ¼nlÃ¼k romantizm dozunu artÄ±rÄ±yorum:\nKokun aklÄ±mda kaldÄ±.",
    "GÃ¼n 10:\nTatlÄ± bir gerÃ§ek:\nSana yazmak, gÃ¼nÃ¼n en kolay kararÄ±.",
    "GÃ¼n 11:\nBazen cool cÃ¼mle kuruyorum yaâ€¦\nÄ°Ã§imdeki â€œseni seviyorumâ€u saklamak iÃ§in.",
    "GÃ¼n 12:\nBugÃ¼n: Sen gÃ¼l.\nBen sebep bulurum.",
    "GÃ¼n 13:\nSeninle aynÄ± odada olmak bile yeter.\nGeri kalanÄ± dÃ¼nya dÃ¼ÅŸÃ¼nsÃ¼n.",
    "GÃ¼n 14:\nSana sarÄ±lmanÄ±n bir adÄ± olmalÄ±.\nÃ‡Ã¼nkÃ¼ bu, resmen huzur.",
    "GÃ¼n 15:\nYarÄ± yol:\nBu Ã§iÃ§ek aÃ§Ä±yorsa, emeÄŸi sensin.",
    "GÃ¼n 16:\nBugÃ¼n ÅŸunu seviyorum:\nSenin â€œnormal halinâ€ bile Ã¶zel.",
    "GÃ¼n 17:\nKÄ±sa ve net:\nSen benim favorimsin.",
    "GÃ¼n 18:\nBugÃ¼n seni dÃ¼ÅŸÃ¼ndÃ¼m.\nSonra bir daha.\nSonra zaten bÄ±rakmadÄ±m.",
    "GÃ¼n 19:\nBence seninle hayat daha â€œsoftâ€ bir tema kullanÄ±yor.",
    "GÃ¼n 20:\nBugÃ¼n cool bir plan:\nBir gÃ¼n aynÄ± anda susup aynÄ± anda gÃ¼lmek.",
    "GÃ¼n 21:\nSeni sevmenin en gÃ¼zel yanÄ±:\nHer gÃ¼n yeniden seÃ§mek gibi.",
    "GÃ¼n 22:\nBugÃ¼n sadece bir cÃ¼mle:\nYanÄ±mda olsan tamamÄ±m.",
    "GÃ¼n 23:\nSen konuÅŸunca ben dinleniyorum.\nEvet, ters ama gerÃ§ek.",
    "GÃ¼n 24:\nTatlÄ± hatÄ±rlatma:\nSen Ã§ok deÄŸerlisin. (Benim iÃ§in deÄŸil, kendin iÃ§in.)",
    "GÃ¼n 25:\nBugÃ¼n romantik tarafÄ±m kazandÄ±:\nSeni gÃ¶rÃ¼nce iÃ§im â€˜evâ€™ diyor.",
    "GÃ¼n 26:\nSeninle: daha cesurum.\nÃ‡Ã¼nkÃ¼ arkamda sen varmÄ±ÅŸ gibi hissediyorum.",
    "GÃ¼n 27:\nCool cÃ¼mle:\nSeni seviyorum.\n(Romantik Ã§evirisi: Ã§ok.)",
    "GÃ¼n 28:\nBugÃ¼n bir hayal:\nSokakta yÃ¼rÃ¼rken elini sÄ±kÄ±ca tutmak.",
    "GÃ¼n 29:\nSon dÃ¼zlÃ¼ÄŸe geldik.\nBen hÃ¢lÃ¢ aynÄ± yerdeyim: senin yanÄ±nda.",
    "GÃ¼n 30:\nFinal:\nBu 30 gÃ¼n sadece kÃ¼Ã§Ã¼k bir fragmandÄ±.\nAsÄ±l hikÃ¢yeâ€¦ seninle devam etsin."
  ];

  // === ANILAR: sabit tarihler ===
  const MEMORY_EVENTS = [
    { date: "2025-11-12", title: "TanÄ±ÅŸma", note: "O gÃ¼n bir ÅŸey baÅŸladÄ±." },
    { date: "2025-11-25", title: "Ä°lk buluÅŸma", note: "Ä°lk kez gerÃ§ekten 'biz' gibi." },
    { date: "2025-11-29", title: "1. ayÄ±n baÅŸlangÄ±cÄ±", note: "Bu sayfa da buradan baÅŸlÄ±yor." },
    { date: "2025-12-29", title: "1. ay", note: "Bir ay deÄŸilâ€¦ alÄ±ÅŸkanlÄ±k gibi." },
  ];

  // ğŸ’— sadece bu iki gÃ¼n (ilk buluÅŸma + sevgili olma)
  const HEART_DATES = [
    "2025-11-25",   // ilk buluÅŸma
    "2025-11-29",   // sevgili olma tarihi -> burayÄ± sen yaz
  ];

  // === BÄ°RLÄ°KTE OLDUÄUNUZ GÃœNLER (senin liste) ===
  const TOGETHER_DATES = [
    "2025-11-25",
    "2025-11-26",
    "2025-11-28",
    "2025-11-29",
    "2025-11-30",
    "2025-12-01",
    "2025-12-02",
    "2025-12-05",
    "2025-12-06",
    "2025-12-07",
    "2025-12-08",
    "2025-12-09",
    "2025-12-10",
    "2025-12-11",
    "2025-12-12",
    "2025-12-13",
    "2025-12-14",
    "2025-12-15",
    "2025-12-16",
    "2025-12-17",
    "2025-12-19",
    "2025-12-20",
    "2025-12-21",
    "2025-12-22",
    "2025-12-23",
    "2025-12-24",
    "2025-12-25",
    // "2025-12-29",  // 1 ay gÃ¼nÃ¼nde de berabersen aÃ§ ve ekle
  ];

  // === O gÃ¼ne Ã¶zel notlar (hover + modal) ===
  const TOGETHER_NOTES = {
    "2025-11-25": "Ä°lk buluÅŸma <3 Karlsruhe",
    "2025-11-26": "O gece yanÄ±nda kaldÄ±m (Heilbronn) â€” sabah dÃ¶ndÃ¼m",
    "2025-11-28": "Cuma ders Ã§Ä±kÄ±ÅŸÄ± Heilbronnâ€™a geldim",
    "2025-11-29": "Heilbronn Weihnachtsmarkt ğŸ„",
    "2025-11-30": "Heilbronn",
    "2025-12-01": "Sabah ben Karlsruheâ€™ye dÃ¶ndÃ¼m, sen iÅŸe (Heilbronn)",
    "2025-12-02": "Ä°ÅŸ Ã§Ä±kÄ±ÅŸÄ± Weihnachtsmarkt â€” sonra Karlsruheâ€™ye geldin",
    "2025-12-05": "Tavuklu makarna + film gecesi ğŸğŸ¬",
    "2025-12-06": "Heilbronn: kÃ¼tÃ¼phane date (Milira ile tanÄ±ÅŸtÄ±m) ğŸ“š",
    "2025-12-07": "Heilbronn â€” evdeydik",
    "2025-12-08": "Sen iÅŸe, ben erken Karlsruheâ€™ye dÃ¶ndÃ¼m (yurtta stock gÃ¶revi)",
    "2025-12-09": "Ben Heilbronnâ€™a geldim",
    "2025-12-10": "Sen evden remote Ã§alÄ±ÅŸtÄ±n",
    "2025-12-11": "ArkadaÅŸlarÄ±nla tanÄ±ÅŸma: Melisa, Hodeige âœ¨",
    "2025-12-12": "DÃ¶nÃ¼ÅŸ",
    "2025-12-13": "Bowling akÅŸamÄ± ğŸ³ â€” Karlsruheâ€™ye birlikte dÃ¶nÃ¼ÅŸ",
    "2025-12-14": "Birlikteydik",
    "2025-12-15": "Sen Karlsruheâ€™den iÅŸe gittin",
    "2025-12-16": "Heilbronn â€” bana Ã§iÃ§ek aldÄ±n ğŸŒ¸",
    "2025-12-17": "Ben eve dÃ¶ndÃ¼m",
    "2025-12-19": "Sen Karlsruheâ€™ye geldin",
    "2025-12-20": "Ä°lk sinema gecemiz ğŸ¬",
    "2025-12-21": "AkÅŸam Heilbronnâ€™a birlikte geldik",
    "2025-12-22": "Heilbronn",
    "2025-12-23": "Heilbronn",
    "2025-12-24": "Heilbronn â€” Noel zamanÄ± birlikte ğŸ„",
    "2025-12-25": "Sen iÅŸe, ben Karlsruheâ€™ye dÃ¶ndÃ¼m",
  };

  // === FOTO EKLEME (Ã–zel gÃ¼nler) ===
  // 1) Repo iÃ§ine photos/ klasÃ¶rÃ¼ aÃ§
  // 2) Foto yÃ¼kle (Ã¶r: photos/2025-12-16-flower.jpg)
  // 3) Buraya eÅŸle
  const PHOTO_BY_DATE = {
    // "2025-11-25": "photos/2025-11-25-firstdate.jpg",
    // "2025-11-29": "photos/2025-11-29-market.jpg",
    // "2025-12-16": "photos/2025-12-16-flower.jpg",
    // "2025-12-20": "photos/2025-12-20-cinema.jpg",
  };

  // Takvim aralÄ±ÄŸÄ± (senin istediÄŸin)
  const TOGETHER_RANGE_START = "2025-11-25";
  const TOGETHER_RANGE_END   = "2025-12-29";

  // =======================
  // AÅAÄISI OTOMATÄ°K
  // =======================

  const DAYS = 30;
  const norm = s => (s||"").toString().trim().toLocaleUpperCase("tr-TR");
  const byId = id => document.getElementById(id);

  function localMidnightFromYMD(ymd){
    const [y,m,d] = ymd.split("-").map(Number);
    return new Date(y, m-1, d, 0,0,0,0);
  }
  function todayLocalMidnight(){
    const t = new Date();
    return new Date(t.getFullYear(), t.getMonth(), t.getDate(), 0,0,0,0);
  }
  function clamp(n,min,max){ return Math.max(min, Math.min(max, n)); }

  function computeDay(startYMD){
    const start = localMidnightFromYMD(startYMD);
    const now = todayLocalMidnight();
    const diffMs = now - start;
    return Math.floor(diffMs / 86400000) + 1; // Day 1 = START_DATE
  }

  function fmtTR(ymd){
    const [y,m,d] = ymd.split("-").map(Number);
    const dt = new Date(y, m-1, d);
    return dt.toLocaleDateString("tr-TR", { day:"2-digit", month:"long" });
  }

  function listRange(startYMD, endYMD){
    const s = localMidnightFromYMD(startYMD);
    const e = localMidnightFromYMD(endYMD);
    const out = [];
    for(let t = new Date(s); t <= e; t = new Date(t.getTime()+86400000)){
      const y = t.getFullYear();
      const m = String(t.getMonth()+1).padStart(2,"0");
      const d = String(t.getDate()).padStart(2,"0");
      out.push(`${y}-${m}-${d}`);
    }
    return out;
  }

  // elements
  const nameInput = byId("nameInput");
  const enterBtn = byId("enterBtn");
  const gateMsg = byId("gateMsg");

  const msgTitle = byId("msgTitle");
  const msgTag = byId("msgTag");
  const msgText = byId("msgText");
  const grid = byId("grid");

  const bar = byId("bar");
  const dayPill = byId("dayPill");
  const datePill = byId("datePill");
  const leftPill = byId("leftPill");

  const stem = byId("stem");
  const petal = byId("petal");
  const center = byId("center");

  // modal
  const modalBack = byId("modalBack");
  const closeBtn = byId("closeBtn");
  const modalTitle = byId("modalTitle");
  const modalNote = byId("modalNote");
  const modalImg = byId("modalImg");

  let unlocked = false;
  let selectedDay = 1;

  function openModal(ymd){
    const title = `${fmtTR(ymd)}${TOGETHER_DATES.includes(ymd) ? " ğŸ’—" : ""}`;
    modalTitle.textContent = title;

    const note = TOGETHER_NOTES[ymd] ? TOGETHER_NOTES[ymd] : "Bu gÃ¼n iÃ§in kÃ¼Ã§Ã¼k bir not ekleyebilirsin ğŸ™‚";
    modalNote.textContent = note;

    const imgPath = PHOTO_BY_DATE[ymd];
    if(imgPath){
      modalImg.src = imgPath;
      modalImg.style.display = "block";
    } else {
      modalImg.removeAttribute("src");
      modalImg.style.display = "none";
    }

    modalBack.style.display = "flex";
    modalBack.setAttribute("aria-hidden","false");
  }

  function closeModal(){
    modalBack.style.display = "none";
    modalBack.setAttribute("aria-hidden","true");
  }

  closeBtn.addEventListener("click", closeModal);
  modalBack.addEventListener("click", (e)=>{ if(e.target === modalBack) closeModal(); });
  document.addEventListener("keydown", (e)=>{ if(e.key === "Escape") closeModal(); });

  function renderMemories(){
    const el = byId("timelineText");
    if(!el) return;

    el.textContent = MEMORY_EVENTS
      .sort((a,b)=> a.date.localeCompare(b.date))
      .map(ev => `â€¢ ${fmtTR(ev.date)} â€” ${ev.title}\n  ${ev.note}`)
      .join("\n\n");
  }

  function renderTogetherCalendar(){
    const grid = byId("togetherGrid");
    if(!grid) return;

    const all = listRange(TOGETHER_RANGE_START, TOGETHER_RANGE_END);
    const set = new Set(TOGETHER_DATES);

    grid.innerHTML = "";
    for(const ymd of all){
      const b = document.createElement("div");
      const isTogether = set.has(ymd);                 // birlikte olunan gÃ¼nler
      const isHeart = HEART_DATES.includes(ymd);       // sadece 2 Ã¶zel gÃ¼n
      const hasPhoto = Boolean(PHOTO_BY_DATE[ymd]);

      b.className = "d" + ((isTogether || isHeart) ? " active" : "") + (hasPhoto ? " hasPhoto" : "");

      const dayNum = ymd.slice(8,10);

      // Ã–ncelik: ğŸ’— (Ã¶zel) > ğŸ‘­ (birlikte) > sade sayÄ±
      if (isHeart) {
        b.textContent = `ğŸ’— ${dayNum}`;
      } else if (isTogether) {
        b.textContent = `ğŸ‘­ ${dayNum}`;
      } else {
        b.textContent = dayNum;
      }

      // hover
      const note = TOGETHER_NOTES[ymd] ? ` â€” ${TOGETHER_NOTES[ymd]}` : "";
      const badge = isHeart ? " ğŸ’—" : (isTogether ? " ğŸ‘­" : "");
      b.title = `${fmtTR(ymd)}${badge}${note}${hasPhoto ? " (foto var)" : ""}`;

      // click -> modal
      b.onclick = () => openModal(ymd);

      grid.appendChild(b);
    }
  }

  function render(){
    datePill.textContent = "BaÅŸlangÄ±Ã§: " + START_DATE;

    if(!unlocked){
      msgTitle.textContent = "BaÅŸlamak iÃ§in ismini yaz.";
      msgTag.textContent = "";
      msgText.textContent = "BugÃ¼nlÃ¼k mesajÄ± birlikte aÃ§alÄ±m ğŸ™‚";
      dayPill.textContent = "GÃ¼n: â€”";
      leftPill.textContent = "Kalan: â€”";
      bar.style.width = "0%";
      stem.style.setProperty("--grow", 0.05);
      petal.style.setProperty("--bloom", 0.05);
      center.style.setProperty("--bloom", 0.05);
      grid.innerHTML = "";
      return;
    }

    const dayNow = computeDay(START_DATE);

    if(dayNow <= 0){
      const daysTo = Math.abs(dayNow) + 1;
      msgTitle.textContent = "HenÃ¼z zamanÄ± deÄŸil ğŸ˜Œ";
      msgTag.textContent = "BaÅŸlamasÄ±na: " + daysTo + " gÃ¼n";
      msgText.textContent =
        "Bu sayfa, doÄŸru gÃ¼n geldiÄŸinde aÃ§Ä±lacak.\n" +
        "Ama ÅŸimdiden ÅŸunu sÃ¶yleyeyim:\n" +
        "Sen olmasaydÄ±n Ã§alÄ±ÅŸmazdÄ±.";
      dayPill.textContent = "GÃ¼n: 0";
      leftPill.textContent = "Kalan: " + DAYS;
      bar.style.width = "0%";
      stem.style.setProperty("--grow", 0.08);
      petal.style.setProperty("--bloom", 0.08);
      center.style.setProperty("--bloom", 0.08);
      grid.innerHTML = "";
      return;
    }

    const available = clamp(dayNow, 1, DAYS);
    selectedDay = clamp(selectedDay, 1, available);

    dayPill.textContent = "GÃ¼n: " + available + "/" + DAYS;
    leftPill.textContent = "Kalan: " + (DAYS - available);
    bar.style.width = (available / DAYS * 100).toFixed(1) + "%";

    const grow = 0.10 + (available / DAYS) * 0.90;
    const bloom = 0.12 + (available / DAYS) * 0.88;
    stem.style.setProperty("--grow", grow.toFixed(3));
    petal.style.setProperty("--bloom", bloom.toFixed(3));
    center.style.setProperty("--bloom", bloom.toFixed(3));

    msgTitle.textContent = "GÃ¼n " + selectedDay;
    msgTag.textContent = selectedDay === available ? "BugÃ¼nÃ¼n mesajÄ±" : "Ã–nceki gÃ¼n";
    msgText.textContent = M[selectedDay-1];

    grid.innerHTML = "";
    for(let i=1;i<=DAYS;i++){
      const b = document.createElement("div");
      b.className = "d" + (i>available ? " locked" : "") + (i===selectedDay ? " active" : "");
      b.textContent = i;
      b.onclick = () => {
        if(i>available) return;
        selectedDay = i;
        render();
      };
      grid.appendChild(b);
    }
  }

  function tryEnter(){
    const typed = norm(nameInput.value);
    const target = norm(HER_NAME);

    unlocked = true;
    if(typed && typed === target){
      gateMsg.textContent = "BileÅŸen bulundu: " + typed + " âœ…";
    } else if(typed){
      gateMsg.textContent = "BileÅŸen bulundu: " + typed + " âœ…";
    } else {
      gateMsg.textContent = "BileÅŸen bulundu âœ…";
    }

    renderMemories();
    renderTogetherCalendar();
    render();
  }

  enterBtn.addEventListener("click", tryEnter);
  nameInput.addEventListener("keydown", (e)=>{ if(e.key==="Enter") tryEnter(); });

  // ilk yÃ¼kleme
  renderMemories();
  renderTogetherCalendar();
  render();
</script>
</body>
</html>
