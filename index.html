<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>30 G√ºnl√ºk Sevgi + Anƒ±lar</title>
  <style>
    :root{
      --bg1:#0b1020; --bg2:#111a33;
      --card: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.65);
      --shadow: 0 18px 60px rgba(0,0,0,.35);
      --r: 18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background: radial-gradient(900px 500px at 20% 10%, rgba(255,120,200,.18), transparent 60%),
                  radial-gradient(800px 500px at 80% 20%, rgba(120,180,255,.18), transparent 55%),
                  linear-gradient(180deg, var(--bg1), var(--bg2));
      display:flex; align-items:center; justify-content:center;
      padding:24px;
    }
    .wrap{width:min(980px, 100%); display:grid; gap:16px}
    .top{display:flex; gap:14px; align-items:stretch; flex-wrap:wrap;}
    .card{
      background:var(--card);
      border:1px solid var(--stroke);
      border-radius:var(--r);
      box-shadow:var(--shadow);
      backdrop-filter: blur(10px);
    }
    .hero{flex: 1 1 460px; padding:18px 18px 14px}
    .side{flex: 0 0 320px; padding:18px}
    h1{margin:0 0 6px; font-size:22px; letter-spacing:.2px}
    .sub{color:var(--muted); font-size:14px; line-height:1.45}
    .row{display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-top:12px}
    input{
      flex:1 1 220px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.18);
      color:var(--text);
      border-radius:12px;
      padding:11px 12px;
      outline:none;
    }
    button{
      border:1px solid rgba(255,255,255,.22);
      background: rgba(255,255,255,.10);
      color:var(--text);
      padding:11px 12px;
      border-radius:12px;
      cursor:pointer;
    }
    button:hover{background: rgba(255,255,255,.14)}
    .pill{
      display:inline-flex; gap:8px; align-items:center;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      padding:8px 10px; border-radius:999px;
      font-size:12px; color:var(--muted);
    }
    .progress{
      height:10px; border-radius:999px;
      background: rgba(255,255,255,.08);
      overflow:hidden;
      border:1px solid rgba(255,255,255,.14);
      margin-top:12px;
    }
    .bar{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(255,140,210,.9), rgba(120,190,255,.9));
    }

    .main{display:grid; grid-template-columns: 1.3fr .7fr; gap:16px}
    @media (max-width: 860px){ .main{grid-template-columns:1fr} .side{flex:1 1 320px}}

    .message{padding:18px}
    .dayTitle{display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap}
    .big{font-size:18px; margin:0}
    .tag{font-size:12px; color:var(--muted)}
    .text{
      margin:12px 0 0;
      font-size:16px;
      line-height:1.65;
      white-space:pre-wrap;
    }

    .days{padding:18px}
    .grid{
      display:grid; grid-template-columns: repeat(5, minmax(0,1fr));
      gap:10px;
    }
    @media (max-width: 560px){ .grid{grid-template-columns: repeat(4, minmax(0,1fr));} }

    .d{
      padding:10px 10px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: var(--text);
      display:flex; justify-content:center; align-items:center;
      cursor:pointer;
      user-select:none;
      min-height:40px;
      position:relative;
    }
    .d.locked{opacity:.45; cursor:not-allowed}
    .d.active{
      border-color: rgba(255,255,255,.35);
      background: rgba(255,255,255,.12);
    }
    .d.hasPhoto::after{
      content:"üì∑";
      position:absolute;
      right:8px; top:8px;
      font-size:12px;
      opacity:.85;
    }

    /* √ái√ßek b√ºy√ºmesi */
    .flowerBox{display:flex; flex-direction:column; gap:10px}
    /* üåª AY√áƒ∞√áEƒûƒ∞ */
    .flower{
      height:240px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      position:relative;
      overflow:hidden;
    }
    
    /* Sap */
    .stem{
      position:absolute;
      left:50%;
      bottom:0;
      width:10px;
      height:160px;
      transform: translateX(-50%) scaleY(var(--grow));
      transform-origin: bottom;
      border-radius:999px;
      background: linear-gradient(180deg, #4caf50, #2e7d32);
      filter: drop-shadow(0 10px 20px rgba(0,0,0,.25));
    }
    
    /* Yapraklar (ta√ß) */
    .petal{
      position:absolute;
      left:50%;
      bottom:140px;
      width:140px;
      height:140px;
      transform: translateX(-50%) scale(var(--bloom));
      transform-origin:center;
      border-radius:50%;
      background:
        repeating-conic-gradient(
          from 0deg,
          #fbc02d 0deg 10deg,
          #fdd835 10deg 20deg
        );
      filter: drop-shadow(0 6px 14px rgba(0,0,0,.25));
      animation: sunflowerFloat 5s ease-in-out infinite;
    }
    
    /* Merkez */
    .center{
      position:absolute;
      left:50%;
      bottom:175px;
      width:46px;
      height:46px;
      transform: translateX(-50%) scale(var(--bloom));
      border-radius:50%;
      background:
        radial-gradient(circle at 30% 30%, #5d4037, #3e2723);
      box-shadow: inset 0 0 0 3px rgba(255,255,255,.05);
    }
    
    @keyframes sunflowerFloat{
      0%,100%{
        transform: translateX(-50%) scale(var(--bloom)) rotate(0deg);
      }
      50%{
        transform: translateX(-50%) scale(var(--bloom)) rotate(2deg);
      }
    }

    .hint{color:var(--muted); font-size:12px; line-height:1.45}
    .footer{color:var(--muted); font-size:12px; padding:0 4px}

    /* Modal (foto + not) */
    .modalBack{
      position:fixed; inset:0;
      background: rgba(0,0,0,.55);
      display:none;
      align-items:center; justify-content:center;
      padding:18px;
      z-index: 9999;
    }
    .modal{
      width:min(820px, 100%);
      background: rgba(20,28,55,.92);
      border:1px solid rgba(255,255,255,.16);
      border-radius: 18px;
      box-shadow: 0 24px 80px rgba(0,0,0,.45);
      overflow:hidden;
    }
    .modalHead{
      display:flex; justify-content:space-between; align-items:center;
      padding:12px 14px;
      border-bottom: 1px solid rgba(255,255,255,.12);
    }
    .modalTitle{font-size:14px; color: var(--text)}
    .closeBtn{
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.08);
      color: var(--text);
      border-radius: 12px;
      padding:8px 10px;
      cursor:pointer;
    }
    .modalBody{padding:14px; display:grid; gap:12px}
    .modalNote{color: rgba(255,255,255,.85); line-height:1.55; white-space:pre-wrap}
    .modalImg{
      width:100%;
      max-height: 420px;
      object-fit: cover;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      display:none;
    }
    /* Dƒ±≈ü kenarlara polaroid (sayfanƒ±n bo≈ü arka planƒ±na) */
    .edgePolaroids{
      position: fixed;
      top: 50%;
      transform: translateY(-50%);
      display: grid;
      gap: 14px;
      z-index: 1;              /* i√ßerikten altta kalsƒ±n */
      pointer-events: none;    /* tƒ±klamalarƒ± engellemesin */
      opacity: .95;
    }

    .edgePolaroids.left{ left: 18px; }
    .edgePolaroids.right{ right: 18px; }

    .edgePolaroid{
      width: 170px;
      background: rgba(255,255,255,.92);
      border-radius: 14px;
      padding: 10px 10px 14px;
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      transform: rotate(var(--rot, -2deg));
    }

    .edgePolaroid img{
      width: 100%;
      height: 145px;
      object-fit: cover;
      border-radius: 10px;
      display: block;
    }

    .edgePolaroid .cap{
      margin-top: 10px;
      color: rgba(10,10,10,.75);
      font-size: 12px;
      font-weight: 700;
      line-height: 1.2;
    }

    /* ƒ∞√ßerik √ºstte kalsƒ±n */
    .wrap{ position: relative; z-index: 5; }

    /* Mobil bantlar: i√ßerikten ayrƒ± √ºst-alt ≈üerit */
    .mobileBand{ display:none; }
    
    @media (max-width: 900px){

    /* i√ßerik √ºst/alt bantlara √ßarpmasƒ±n */
    body{
      padding-top: 220px;
      padding-bottom: 220px;
      align-items: flex-start;
      justify-content: flex-start;
    }
  
    /* √ºst bant = sol grup */
    .edgePolaroids.left{
      position: fixed;
      top: 14px;
      left: 12px;
      right: 12px;
      transform: none;
      display: flex;
      gap: 10px;
      justify-content: space-between;
      z-index: 2;
    }
  
    /* alt bant = saƒü grup */
    .edgePolaroids.right{
      position: fixed;
      bottom: 14px;
      left: 12px;
      right: 12px;
      transform: none;
      display: flex;
      gap: 10px;
      justify-content: space-between;
      z-index: 2;
    }
  
    .edgePolaroid{
      width: calc((100% - 20px) / 3);
      padding: 8px 8px 10px;
    }
  
    .edgePolaroid img{
      height: 105px;
    }
    
    .wrap{ margin-bottom: 10px; 
    }
  }

    
    /* PC'de bantlar g√∂r√ºnmesin, polaroidler kenarda kalsƒ±n */
    @media (min-width: 901px){
      .mobileBand{ display:none; }
    }

  </style>
</head>

<body>
  <!-- Sol grup -->
  <div class="edgePolaroids left">
    <div class="edgePolaroid" style="--rot:-4deg"><img src="photos/left1.jpeg" alt="anƒ±"></div>
    <div class="edgePolaroid" style="--rot:2deg"><img src="photos/left2.jpeg" alt="anƒ±"></div>
    <div class="edgePolaroid" style="--rot:-1deg"><img src="photos/left3.jpeg" alt="anƒ±"></div>
  </div>
  
  <!-- Saƒü grup -->
  <div class="edgePolaroids right">
    <div class="edgePolaroid" style="--rot:3deg"><img src="photos/right1.jpeg" alt="anƒ±"></div>
    <div class="edgePolaroid" style="--rot:-3deg"><img src="photos/right2.jpeg" alt="anƒ±"></div>
    <div class="edgePolaroid" style="--rot:1deg"><img src="photos/right3.jpeg" alt="anƒ±"></div>
  </div>
  
  <div class="wrap">
    <div class="top">
      <div class="card hero">
        <h1>30 G√ºnl√ºk Sevgi</h1>
        <div class="sub">
          Bir ay boyunca her g√ºn k√º√ß√ºk bir ≈üey‚Ä¶ romantik, tatlƒ± ve biraz da cool.
        </div>

        <div class="row" id="gate">
          <input id="nameInput" placeholder="ƒ∞smini yaz (minik bir kontrol üòå)" autocomplete="off" />
          <button id="enterBtn">Ba≈ülat</button>
          <span class="pill" id="gateMsg">‚ÄúSen olmasaydƒ±n √ßalƒ±≈ümazdƒ±.‚Äù</span>
        </div>

        <div class="progress" aria-label="progress">
          <div class="bar" id="bar"></div>
        </div>

        <div class="row" style="margin-top:10px">
          <span class="pill" id="dayPill">G√ºn: ‚Äî</span>
          <span class="pill" id="datePill">Ba≈ülangƒ±√ß: ‚Äî</span>
          <span class="pill" id="leftPill">Kalan: ‚Äî</span>
        </div>
      </div>

      <div class="card side">
        <div class="flowerBox">
          <div class="flower">
            <div class="stem" id="stem"></div>
            <div class="petal" id="petal"></div>
            <div class="center" id="center"></div>
          </div>
          <div class="hint">
            ƒ∞pucu: Her g√ºn girince √ßi√ßek biraz daha a√ßƒ±yor. üåô
          </div>
        </div>
      </div>
    </div>

    <!-- G√úNL√úK MESAJLAR + G√úNLER -->
    <div class="main">
      <div class="card message">
        <div class="dayTitle">
          <p class="big" id="msgTitle">Ba≈ülamak i√ßin ismini yaz.</p>
          <span class="tag" id="msgTag"></span>
        </div>
        <div class="text" id="msgText">Bug√ºnl√ºk mesajƒ± birlikte a√ßalƒ±m üôÇ</div>
      </div>

      <div class="card days">
        <div class="sub" style="margin-bottom:10px">G√ºnler</div>
        <div class="grid" id="grid"></div>
        <div class="footer" style="margin-top:12px">
          Not: Gelecek g√ºnler kilitli. Zamanƒ± gelince a√ßƒ±lƒ±r üòå
        </div>
      </div>
    </div>

    <!-- ANILAR + Bƒ∞RLƒ∞KTE G√úNLER -->
    <div class="main" style="margin-top:16px">
      <div class="card message">
        <div class="dayTitle">
          <p class="big">Anƒ±lar</p>
          <span class="tag">12 Kasƒ±m ‚Üí 29 Aralƒ±k</span>
        </div>
        <div class="text" id="timelineText"></div>
      </div>

      <div class="card days">
        <div class="sub" style="margin-bottom:10px">Birlikte olduƒüumuz g√ºnler (25 Kasƒ±m ‚Äì 29 Aralƒ±k)</div>
        <div class="grid" id="togetherGrid"></div>
        <div class="footer" style="margin-top:12px">
          üíó = √∂zel g√ºn (ilk bulu≈üma + sevgili olma). üë≠ = diƒüer birlikte olduƒüunuz g√ºnler. üì∑ = foto var. Tƒ±kla: not + foto a√ßƒ±lƒ±r.
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modalBack" id="modalBack" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="modalHead">
        <div class="modalTitle" id="modalTitle">‚Äî</div>
        <button class="closeBtn" id="closeBtn">Kapat</button>
      </div>
      <div class="modalBody">
        <img class="modalImg" id="modalImg" alt="Anƒ± fotoƒürafƒ±" />
        <div class="modalNote" id="modalNote"></div>
      </div>
    </div>
  </div>

<script>
  // ‚úÖ SADECE BU KISIMLARI D√úZENLE

  const HER_NAME = "ONUN_ADI";      // √∂r: "MELƒ∞SA" veya lakap
  const START_DATE = "2025-11-29";  // 30 g√ºnl√ºk mesajlarƒ±n ba≈ülayacaƒüƒ± g√ºn (istersen deƒüi≈üir)

  // 30 g√ºnl√ºk mesajlar
  const M = [
    "G√ºn 1:\nBug√ºn bu sayfayƒ± a√ßtƒ±ysan‚Ä¶ sistem √ßalƒ±≈üƒ±yor demektir.\n√á√ºnk√º sen varsƒ±n.",
    "G√ºn 2:\nK√º√ß√ºk bir not: G√ºl√º≈ü√ºn benim en sevdiƒüim bildirim sesi.",
    "G√ºn 3:\nCool davranmaya √ßalƒ±≈üƒ±yorum ama olmadƒ±:\nSeni √∂zledim.",
    "G√ºn 4:\nBug√ºn sadece ≈üunu bil:\nYanƒ±nda sakinle≈üiyorum.",
    "G√ºn 5:\nSeninle konu≈üunca zaman hƒ±zlanƒ±yor.\nSensizse‚Ä¶ update gelmiyor.",
    "G√ºn 6:\nBir ≈üey itiraf edeyim:\nBen senin yanƒ±nda daha iyi biriyim.",
    "G√ºn 7:\nMini g√∂rev: Bug√ºn kendine nazik ol.\nBen de uzaktan alkƒ±≈ülƒ±yorum.",
    "G√ºn 8:\nSen = g√ºven.\nBu kadar net.",
    "G√ºn 9:\nBug√ºnl√ºk romantizm dozunu artƒ±rƒ±yorum:\nKokun aklƒ±mda kaldƒ±.",
    "G√ºn 10:\nTatlƒ± bir ger√ßek:\nSana yazmak, g√ºn√ºn en kolay kararƒ±.",
    "G√ºn 11:\nBazen cool c√ºmle kuruyorum ya‚Ä¶\nƒ∞√ßimdeki ‚Äúseni seviyorum‚Äùu saklamak i√ßin.",
    "G√ºn 12:\nBug√ºn: Sen g√ºl.\nBen sebep bulurum.",
    "G√ºn 13:\nSeninle aynƒ± odada olmak bile yeter.\nGeri kalanƒ± d√ºnya d√º≈ü√ºns√ºn.",
    "G√ºn 14:\nSana sarƒ±lmanƒ±n bir adƒ± olmalƒ±.\n√á√ºnk√º bu, resmen huzur.",
    "G√ºn 15:\nYarƒ± yol:\nBu √ßi√ßek a√ßƒ±yorsa, emeƒüi sensin.",
    "G√ºn 16:\nBug√ºn ≈üunu seviyorum:\nSenin ‚Äúnormal halin‚Äù bile √∂zel.",
    "G√ºn 17:\nKƒ±sa ve net:\nSen benim favorimsin.",
    "G√ºn 18:\nBug√ºn seni d√º≈ü√ºnd√ºm.\nSonra bir daha.\nSonra zaten bƒ±rakmadƒ±m.",
    "G√ºn 19:\nBence seninle hayat daha ‚Äúsoft‚Äù bir tema kullanƒ±yor.",
    "G√ºn 20:\nBug√ºn cool bir plan:\nBir g√ºn aynƒ± anda susup aynƒ± anda g√ºlmek.",
    "G√ºn 21:\nSeni sevmenin en g√ºzel yanƒ±:\nHer g√ºn yeniden se√ßmek gibi.",
    "G√ºn 22:\nBug√ºn sadece bir c√ºmle:\nYanƒ±mda olsan tamamƒ±m.",
    "G√ºn 23:\nSen konu≈üunca ben dinleniyorum.\nEvet, ters ama ger√ßek.",
    "G√ºn 24:\nTatlƒ± hatƒ±rlatma:\nSen √ßok deƒüerlisin. (Benim i√ßin deƒüil, kendin i√ßin.)",
    "G√ºn 25:\nBug√ºn romantik tarafƒ±m kazandƒ±:\nSeni g√∂r√ºnce i√ßim ‚Äòev‚Äô diyor.",
    "G√ºn 26:\nSeninle: daha cesurum.\n√á√ºnk√º arkamda sen varmƒ±≈ü gibi hissediyorum.",
    "G√ºn 27:\nCool c√ºmle:\nSeni seviyorum.\n(Romantik √ßevirisi: √ßok.)",
    "G√ºn 28:\nBug√ºn bir hayal:\nSokakta y√ºr√ºrken elini sƒ±kƒ±ca tutmak.",
    "G√ºn 29:\nSon d√ºzl√ºƒüe geldik.\nBen h√¢l√¢ aynƒ± yerdeyim: senin yanƒ±nda.",
    "G√ºn 30:\nFinal:\nBu 30 g√ºn sadece k√º√ß√ºk bir fragmandƒ±.\nAsƒ±l hik√¢ye‚Ä¶ seninle devam etsin."
  ];

  // === ANILAR: sabit tarihler ===
  const MEMORY_EVENTS = [
    { date: "2025-11-12", title: "Tanƒ±≈üma", note: "O g√ºn bir ≈üey ba≈üladƒ±." },
    { date: "2025-11-25", title: "ƒ∞lk bulu≈üma", note: "ƒ∞lk kez ger√ßekten 'biz' gibi." },
    { date: "2025-11-29", title: "1. ayƒ±n ba≈ülangƒ±cƒ±", note: "Bu sayfa da buradan ba≈ülƒ±yor." },
    { date: "2025-12-29", title: "1. ay", note: "Bir ay deƒüil‚Ä¶ alƒ±≈ükanlƒ±k gibi." },
  ];

  // üíó sadece bu iki g√ºn (ilk bulu≈üma + sevgili olma)
  const HEART_DATES = [
    "2025-11-25",   // ilk bulu≈üma
    "2025-11-29",   // sevgili olma tarihi -> burayƒ± sen yaz
  ];

  // === Bƒ∞RLƒ∞KTE OLDUƒûUNUZ G√úNLER (senin liste) ===
  const TOGETHER_DATES = [
    "2025-11-25",
    "2025-11-26",
    "2025-11-28",
    "2025-11-29",
    "2025-11-30",
    "2025-12-01",
    "2025-12-02",
    "2025-12-05",
    "2025-12-06",
    "2025-12-07",
    "2025-12-08",
    "2025-12-09",
    "2025-12-10",
    "2025-12-11",
    "2025-12-12",
    "2025-12-13",
    "2025-12-14",
    "2025-12-15",
    "2025-12-16",
    "2025-12-17",
    "2025-12-19",
    "2025-12-20",
    "2025-12-21",
    "2025-12-22",
    "2025-12-23",
    "2025-12-24",
    "2025-12-25",
    // "2025-12-29",  // 1 ay g√ºn√ºnde de berabersen a√ß ve ekle
  ];

  // === O g√ºne √∂zel notlar (hover + modal) ===
  const TOGETHER_NOTES = {
    "2025-11-25": "ƒ∞lk bulu≈üma <3 Karlsruhe",
    "2025-11-26": "O gece yanƒ±nda kaldƒ±m (Heilbronn) ‚Äî sabah d√∂nd√ºm",
    "2025-11-28": "Cuma ders √ßƒ±kƒ±≈üƒ± Heilbronn‚Äôa geldim",
    "2025-11-29": "Heilbronn Weihnachtsmarkt üéÑ",
    "2025-11-30": "Heilbronn",
    "2025-12-01": "Sabah ben Karlsruhe‚Äôye d√∂nd√ºm, sen i≈üe (Heilbronn)",
    "2025-12-02": "ƒ∞≈ü √ßƒ±kƒ±≈üƒ± Weihnachtsmarkt ‚Äî sonra Karlsruhe‚Äôye geldin",
    "2025-12-05": "Tavuklu makarna + film gecesi üçùüé¨",
    "2025-12-06": "Heilbronn: k√ºt√ºphane date (Milira ile tanƒ±≈ütƒ±m) üìö",
    "2025-12-07": "Heilbronn ‚Äî evdeydik",
    "2025-12-08": "Sen i≈üe, ben erken Karlsruhe‚Äôye d√∂nd√ºm (yurtta stock g√∂revi)",
    "2025-12-09": "Ben Heilbronn‚Äôa geldim",
    "2025-12-10": "Sen evden remote √ßalƒ±≈ütƒ±n",
    "2025-12-11": "Arkada≈ülarƒ±nla tanƒ±≈üma: Melisa, Hodeige ‚ú®",
    "2025-12-12": "D√∂n√º≈ü",
    "2025-12-13": "Bowling ak≈üamƒ± üé≥ ‚Äî Karlsruhe‚Äôye birlikte d√∂n√º≈ü",
    "2025-12-14": "Birlikteydik",
    "2025-12-15": "Sen Karlsruhe‚Äôden i≈üe gittin",
    "2025-12-16": "Heilbronn ‚Äî bana √ßi√ßek aldƒ±n üå∏",
    "2025-12-17": "Ben eve d√∂nd√ºm",
    "2025-12-19": "Sen Karlsruhe‚Äôye geldin",
    "2025-12-20": "ƒ∞lk sinema gecemiz üé¨",
    "2025-12-21": "Ak≈üam Heilbronn‚Äôa birlikte geldik",
    "2025-12-22": "Heilbronn",
    "2025-12-23": "Heilbronn",
    "2025-12-24": "Heilbronn ‚Äî Noel zamanƒ± birlikte üéÑ",
    "2025-12-25": "Sen i≈üe, ben Karlsruhe‚Äôye d√∂nd√ºm",
  };

  // === FOTO EKLEME (√ñzel g√ºnler) ===
  // 1) Repo i√ßine photos/ klas√∂r√º a√ß
  // 2) Foto y√ºkle (√∂r: photos/2025-12-16-flower.jpg)
  // 3) Buraya e≈üle
  const PHOTO_BY_DATE = {
    // "2025-11-25": "photos/2025-11-25-firstdate.jpg",
    // "2025-11-29": "photos/2025-11-29-market.jpg",
    // "2025-12-16": "photos/2025-12-16-flower.jpg",
    // "2025-12-20": "photos/2025-12-20-cinema.jpg",
  };

  // Takvim aralƒ±ƒüƒ± (senin istediƒüin)
  const TOGETHER_RANGE_START = "2025-11-25";
  const TOGETHER_RANGE_END   = "2025-12-29";

  // =======================
  // A≈ûAƒûISI OTOMATƒ∞K
  // =======================

  const DAYS = 30;
  const norm = s => (s||"").toString().trim().toLocaleUpperCase("tr-TR");
  const byId = id => document.getElementById(id);

  function localMidnightFromYMD(ymd){
    const [y,m,d] = ymd.split("-").map(Number);
    return new Date(y, m-1, d, 0,0,0,0);
  }
  function todayLocalMidnight(){
    const t = new Date();
    return new Date(t.getFullYear(), t.getMonth(), t.getDate(), 0,0,0,0);
  }
  function clamp(n,min,max){ return Math.max(min, Math.min(max, n)); }

  function computeDay(startYMD){
    const start = localMidnightFromYMD(startYMD);
    const now = todayLocalMidnight();
    const diffMs = now - start;
    return Math.floor(diffMs / 86400000) + 1; // Day 1 = START_DATE
  }

  function fmtTR(ymd){
    const [y,m,d] = ymd.split("-").map(Number);
    const dt = new Date(y, m-1, d);
    return dt.toLocaleDateString("tr-TR", { day:"2-digit", month:"long" });
  }

  function listRange(startYMD, endYMD){
    const s = localMidnightFromYMD(startYMD);
    const e = localMidnightFromYMD(endYMD);
    const out = [];
    for(let t = new Date(s); t <= e; t = new Date(t.getTime()+86400000)){
      const y = t.getFullYear();
      const m = String(t.getMonth()+1).padStart(2,"0");
      const d = String(t.getDate()).padStart(2,"0");
      out.push(`${y}-${m}-${d}`);
    }
    return out;
  }

  // elements
  const nameInput = byId("nameInput");
  const enterBtn = byId("enterBtn");
  const gateMsg = byId("gateMsg");

  const msgTitle = byId("msgTitle");
  const msgTag = byId("msgTag");
  const msgText = byId("msgText");
  const grid = byId("grid");

  const bar = byId("bar");
  const dayPill = byId("dayPill");
  const datePill = byId("datePill");
  const leftPill = byId("leftPill");

  const stem = byId("stem");
  const petal = byId("petal");
  const center = byId("center");

  // modal
  const modalBack = byId("modalBack");
  const closeBtn = byId("closeBtn");
  const modalTitle = byId("modalTitle");
  const modalNote = byId("modalNote");
  const modalImg = byId("modalImg");

  let unlocked = false;
  let selectedDay = 1;

  function openModal(ymd){
    const title = `${fmtTR(ymd)}${HEART_DATES.includes(ymd) ? " üíó" : (TOGETHER_DATES.includes(ymd) ? " üë≠" : "")}`;
    modalTitle.textContent = title;

    const note = TOGETHER_NOTES[ymd] ? TOGETHER_NOTES[ymd] : "Bu g√ºn i√ßin k√º√ß√ºk bir not ekleyebilirsin üôÇ";
    modalNote.textContent = note;

    const imgPath = PHOTO_BY_DATE[ymd];
    if(imgPath){
      modalImg.src = imgPath;
      modalImg.style.display = "block";
    } else {
      modalImg.removeAttribute("src");
      modalImg.style.display = "none";
    }

    modalBack.style.display = "flex";
    modalBack.setAttribute("aria-hidden","false");
  }

  function closeModal(){
    modalBack.style.display = "none";
    modalBack.setAttribute("aria-hidden","true");
  }

  closeBtn.addEventListener("click", closeModal);
  modalBack.addEventListener("click", (e)=>{ if(e.target === modalBack) closeModal(); });
  document.addEventListener("keydown", (e)=>{ if(e.key === "Escape") closeModal(); });

  function renderMemories(){
    const el = byId("timelineText");
    if(!el) return;

    el.textContent = MEMORY_EVENTS
      .sort((a,b)=> a.date.localeCompare(b.date))
      .map(ev => `‚Ä¢ ${fmtTR(ev.date)} ‚Äî ${ev.title}\n  ${ev.note}`)
      .join("\n\n");
  }

  function renderTogetherCalendar(){
    const grid = byId("togetherGrid");
    if(!grid) return;

    const all = listRange(TOGETHER_RANGE_START, TOGETHER_RANGE_END);
    const set = new Set(TOGETHER_DATES);

    grid.innerHTML = "";
    for(const ymd of all){
      const b = document.createElement("div");
      const isTogether = set.has(ymd);                 // birlikte olunan g√ºnler
      const isHeart = HEART_DATES.includes(ymd);       // sadece 2 √∂zel g√ºn
      const hasPhoto = Boolean(PHOTO_BY_DATE[ymd]);

      b.className = "d" + ((isTogether || isHeart) ? " active" : "") + (hasPhoto ? " hasPhoto" : "");

      const dayNum = ymd.slice(8,10);

      // √ñncelik: üíó (√∂zel) > üë≠ (birlikte) > sade sayƒ±
      if (isHeart) {
        b.textContent = `üíó ${dayNum}`;
      } else if (isTogether) {
        b.textContent = `üë≠ ${dayNum}`;
      } else {
        b.textContent = dayNum;
      }

      // hover
      const note = TOGETHER_NOTES[ymd] ? ` ‚Äî ${TOGETHER_NOTES[ymd]}` : "";
      const badge = isHeart ? " üíó" : (isTogether ? " üë≠" : "");
      b.title = `${fmtTR(ymd)}${badge}${note}${hasPhoto ? " (foto var)" : ""}`;

      // click -> modal
      b.onclick = () => openModal(ymd);

      grid.appendChild(b);
    }
  }

  function render(){
    datePill.textContent = "Ba≈ülangƒ±√ß: " + START_DATE;

    if(!unlocked){
      msgTitle.textContent = "Ba≈ülamak i√ßin ismini yaz.";
      msgTag.textContent = "";
      msgText.textContent = "Bug√ºnl√ºk mesajƒ± birlikte a√ßalƒ±m üôÇ";
      dayPill.textContent = "G√ºn: ‚Äî";
      leftPill.textContent = "Kalan: ‚Äî";
      bar.style.width = "0%";
      stem.style.setProperty("--grow", 0.05);
      petal.style.setProperty("--bloom", 0.05);
      center.style.setProperty("--bloom", 0.05);
      grid.innerHTML = "";
      return;
    }

    const dayNow = computeDay(START_DATE);

    if(dayNow <= 0){
      const daysTo = Math.abs(dayNow) + 1;
      msgTitle.textContent = "Hen√ºz zamanƒ± deƒüil üòå";
      msgTag.textContent = "Ba≈ülamasƒ±na: " + daysTo + " g√ºn";
      msgText.textContent =
        "Bu sayfa, doƒüru g√ºn geldiƒüinde a√ßƒ±lacak.\n" +
        "Ama ≈üimdiden ≈üunu s√∂yleyeyim:\n" +
        "Sen olmasaydƒ±n √ßalƒ±≈ümazdƒ±.";
      dayPill.textContent = "G√ºn: 0";
      leftPill.textContent = "Kalan: " + DAYS;
      bar.style.width = "0%";
      stem.style.setProperty("--grow", 0.08);
      petal.style.setProperty("--bloom", 0.08);
      center.style.setProperty("--bloom", 0.08);
      grid.innerHTML = "";
      return;
    }

    const available = clamp(dayNow, 1, DAYS);
    selectedDay = clamp(selectedDay, 1, available);

    dayPill.textContent = "G√ºn: " + available + "/" + DAYS;
    leftPill.textContent = "Kalan: " + (DAYS - available);
    bar.style.width = (available / DAYS * 100).toFixed(1) + "%";

    const grow = 0.10 + (available / DAYS) * 0.90;
    const bloom = 0.12 + (available / DAYS) * 0.88;
    stem.style.setProperty("--grow", grow.toFixed(3));
    petal.style.setProperty("--bloom", bloom.toFixed(3));
    center.style.setProperty("--bloom", bloom.toFixed(3));

    msgTitle.textContent = "G√ºn " + selectedDay;
    msgTag.textContent = selectedDay === available ? "Bug√ºn√ºn mesajƒ±" : "√ñnceki g√ºn";
    msgText.textContent = M[selectedDay-1];

    grid.innerHTML = "";
    for(let i=1;i<=DAYS;i++){
      const b = document.createElement("div");
      b.className = "d" + (i>available ? " locked" : "") + (i===selectedDay ? " active" : "");
      b.textContent = i;
      b.onclick = () => {
        if(i>available) return;
        selectedDay = i;
        render();
      };
      grid.appendChild(b);
    }
  }

  function tryEnter(){
    const typed = norm(nameInput.value);
    const target = norm(HER_NAME);

    unlocked = true;
    if(typed && typed === target){
      gateMsg.textContent = "Bile≈üen bulundu: " + typed + " ‚úÖ";
    } else if(typed){
      gateMsg.textContent = "Bile≈üen bulundu: " + typed + " ‚úÖ";
    } else {
      gateMsg.textContent = "Bile≈üen bulundu ‚úÖ";
    }

    renderMemories();
    renderTogetherCalendar();
    render();
  }

  enterBtn.addEventListener("click", tryEnter);
  nameInput.addEventListener("keydown", (e)=>{ if(e.key==="Enter") tryEnter(); });

  // ilk y√ºkleme
  renderMemories();
  renderTogetherCalendar();
  render();
</script>
</body>
</html>
